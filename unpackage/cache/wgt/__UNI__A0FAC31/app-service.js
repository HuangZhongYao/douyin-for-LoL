if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((o=>t.resolve(e()).then((()=>o))),(o=>t.resolve(e()).then((()=>{throw o}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t=(e,t)=>{const o=e.__vccOpts||e;for(const[n,i]of t)o[n]=i;return o};const o=t({data:()=>({title:"Hello"}),onLoad(){},methods:{}},[["render",function(t,o,n,i,a,r){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("image",{class:"logo",src:"/static/logo.png"}),e.createElementVNode("view",{class:"text-area"},[e.createElementVNode("text",{class:"title"},e.toDisplayString(a.title),1)])])}]]);function n(e,t,...o){uni.__log__?uni.__log__(e,t,...o):console[e].apply(console,[...o,t])}const i=t({data:()=>({videoList:[],videoIndex:0,videoContext:null,pause:!1,zan:!1,zanAnimation:"",tips:"",queryPage:{pageNo:1,pageSize:5}}),onLoad(){this.loadData(),this.isAutoPaly()},onShow(){this.isAutoPaly()},methods:{loadData(){let e=this;uni.request({url:"http://47.115.216.83:8080/resource/pageList",data:e.queryPage,method:"POST",success(t){e.videoList=e.videoList.concat(t.data.records)},fail(){}})},like(){this.zan=!this.zan,this.zanAnimation=this.zan?"animation: scaleUp 0.2s linear forwards":"animation: scaleDown 0.2s linear forwards",setTimeout((()=>{this.zanAnimation=""}),200)},changefun(e){n("log","at pages/home/home.vue:83","changefun: ","videoIndex: ",this.videoIndex);let t=0!=this.videoIndex&&this.videoIndex%9==0;n("log","at pages/home/home.vue:85","firstPage: ",t),0!=this.videoIndex&&this.videoIndex%3==0&&(t=!1,this.queryPage.pageNo++,n("log","at pages/home/home.vue:90","videoIndex: ",this.videoIndex),this.loadData(),n("log","at pages/home/home.vue:93","videoList:",this.videoList));for(let o=0;o<this.videoList.length;o++)uni.createVideoContext("video"+o).pause();this.videoIndex=e.detail.current,this.videoContext=uni.createVideoContext("video"+this.videoIndex),this.videoContext.play()},click(){this.pause?this.play():this.pauseVideo()},play(){n("log","at pages/home/home.vue:116","play"),this.videoContext.pause(),this.pause=!1},pauseVideo(){n("log","at pages/home/home.vue:123","pause"),this.videoContext.pause(),this.pause=!0},isAutoPaly(){this.videoContext=uni.createVideoContext("video"+this.videoIndex),0==this.pause&&(this.videoContext.play(),n("log","at pages/home/home.vue:134","autoPaly"))}}},[["render",function(t,o,n,i,a,r){return e.openBlock(),e.createElementBlock("view",{class:"page"},[e.createElementVNode("text",{class:"title"},"推荐"),e.createElementVNode("swiper",{ref:"cc",vertical:"",class:"s",id:"videoc",onChange:o[2]||(o[2]=(...e)=>r.changefun&&r.changefun(...e)),current:a.videoIndex},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.videoList,((t,n)=>(e.openBlock(),e.createElementBlock("swiper-item",null,[e.createElementVNode("view",null,[e.createElementVNode("video",{onClick:o[0]||(o[0]=e=>r.click()),id:"video"+n,"object-fit":"cover",class:"main",loop:"true",controls:!1,src:t.path},null,8,["id","src"]),e.createElementVNode("image",{onClick:o[1]||(o[1]=e=>r.like()),class:"zan",style:e.normalizeStyle(a.zanAnimation),src:a.zan?"../../static/icon/zan-2.png":"../../static/icon/zan-1.png"},null,12,["src"])])])))),256))],40,["current"])])}]]);const a=t({data:()=>({}),methods:{}},[["render",function(t,o,n,i,a,r){return e.openBlock(),e.createElementBlock("view",null," 我的 ")}]]);__definePage("pages/index/index",o),__definePage("pages/home/home",i),__definePage("pages/me/me",a);const r={onLaunch:function(){n("log","at App.vue:4","App Launch")},onShow:function(){n("log","at App.vue:7","App Show")},onHide:function(){n("log","at App.vue:10","App Hide")}};const{app:s,Vuex:l,Pinia:c}={app:e.createVueApp(r)};uni.Vuex=l,uni.Pinia=c,s.provide("__globalStyles",__uniConfig.styles),s._component.mpType="app",s._component.render=()=>{},s.mount("#app")}(Vue);
