import{r as e,f as i,o as s,c as a,w as t,i as o,a as n,b as d,g as l,h as c,F as h,e as u,S as r,n as v,j as p,d as g,k as x}from"./index-27e18c2c.js";import{_ as f}from"./_plugin-vue_export-helper.1b428a4d.js";const m=f({data:()=>({videoList:[],videoIndex:0,videoContext:null,pause:!1,zan:!1,zanAnimation:"",tips:"",queryPage:{pageNo:1,pageSize:5}}),onLoad(){this.loadData(),this.isAutoPaly()},onShow(){this.isAutoPaly()},methods:{loadData(){let i=this;e({url:"http://47.115.216.83:8080/resource/pageList",data:i.queryPage,method:"POST",success(e){i.videoList=i.videoList.concat(e.data.records)},fail(){}})},like(){this.zan=!this.zan,this.zanAnimation=this.zan?"animation: scaleUp 0.2s linear forwards":"animation: scaleDown 0.2s linear forwards",setTimeout((()=>{this.zanAnimation=""}),200)},changefun(e){console.log("changefun: ","videoIndex: ",this.videoIndex);let s=0!=this.videoIndex&&this.videoIndex%9==0;console.log("firstPage: ",s),0!=this.videoIndex&&this.videoIndex%3==0&&(s=!1,this.queryPage.pageNo++,console.log("videoIndex: ",this.videoIndex),this.loadData(),console.log("videoList:",this.videoList));for(let a=0;a<this.videoList.length;a++)i("video"+a).pause();this.videoIndex=e.detail.current,this.videoContext=i("video"+this.videoIndex),this.videoContext.play()},click(){this.pause?this.play():this.pauseVideo()},play(){console.log("play"),this.videoContext.pause(),this.pause=!1},pauseVideo(){console.log("pause"),this.videoContext.pause(),this.pause=!0},isAutoPaly(){this.videoContext=i("video"+this.videoIndex),0==this.pause&&(this.videoContext.play(),console.log("autoPaly"))}}},[["render",function(e,i,f,m,y,I){const z=u,C=p,_=g,L=o,P=x,k=r;return s(),a(L,{class:"page"},{default:t((()=>[n(z,{class:"title"},{default:t((()=>[d("推荐")])),_:1}),n(k,{ref:"cc",vertical:"",class:"s",id:"videoc",onChange:I.changefun,current:y.videoIndex},{default:t((()=>[(s(!0),l(h,null,c(y.videoList,((e,o)=>(s(),a(P,null,{default:t((()=>[n(L,null,{default:t((()=>[n(C,{onClick:i[0]||(i[0]=e=>I.click()),id:"video"+o,"object-fit":"cover",class:"main",loop:"true",controls:!1,src:e.path},null,8,["id","src"]),n(_,{onClick:i[1]||(i[1]=e=>I.like()),class:"zan",style:v(y.zanAnimation),src:y.zan?"../../static/icon/zan-2.png":"../../static/icon/zan-1.png"},null,8,["style","src"])])),_:2},1024)])),_:2},1024)))),256))])),_:1},8,["onChange","current"])])),_:1})}],["__scopeId","data-v-90a2674b"]]);export{m as default};
